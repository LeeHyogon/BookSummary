# 2.4 서버 프로세스와 백그라운드 프로세스의 역할

오라클은 다음 2가지 프로세스로 구성
- 서버 프로세스: SQL문을 처리하는 프로세스
- 백그라운드 프로세스: 주로 서버 프로세스를 지원하는 프로세스

# 2.5 각 프로세스가 수행하는 처리

어떤 프로세스가 어떤 처리를 담당하고 있을까? 오라클에서 수행하고 있는 주요 처리는 다음과 같다.

1. SQL문의 수신
2. SQL문의 파싱(어떤 테이블에 어떻게 접근해야 하는지를 생각하는 작업)
3. 데이터 읽기(디스크에서 읽어옴)
4. 데이터 기록(디스크에 기록)
5. SQL문의 결과 회신
6. 로그 기록(데이터의 변경 로그를 디스크에 기록)
7. 각종 정리(프로세스 비정상 종료로 인한 아무도 사용하지 않는 Lock의 해제 등)
8. 로그 보관(아카이브)

* 여기서 떠올렸으면 하는 것은 '고객을 최우선으로 생각하는 영업 담당자'의 모습.
* 이 영업 담당자는 고객을 위해 스스로 업무를 수행하며, 고객과 관련이 없는 업무는 일절 수행하지 않는 모습을 보여준다.
* 이처럼 서버 프로세스는 서비스를 수행하는 프로세스이며, 오라클은 SQL문을 빠르게 처리하려고 합니다. 따라서 서버프로세스는 SQL문 처리를 최우선으로 업무를 수행합니다.

## 2..5.1 SQL문의 처리에 필요한 작업
- SQL문을 처리하는 데 필요한 작업은 1,2,3,5 입니다.
- SQL문을 수신하고 파싱하고 디스크에서 데이터를 읽어오며 결과를 회신합니다. 4번 데이터 기록은 SQL문의 결과를 회신하는 것과는 상관없으며, 시간을 의미 없이 사용하므로 불필요합니다.
- 이렇게 SQL문의 결과를 회신하는 데 불필요한 작업은 다른 사람에게 맡겨버리면 됩니다.
- DBWR(데이터베이스 라이터)이 데이터를 디스크에 기록하는 일을 수행합니다.

> **포어그라운드 프로세스**
> <br> 서버 프로세스를 말합니다.


# 2.6 요약
- 데이터베이스는 모두 공유해서 사용한다.
- 애플리케이션이나 SQL*Plus 같은 오라클 클라이언트가 여러 개 존재하고, 여러 개의 SQL문이 오라클에 전달된다.
- 오라클 위에서 여러 개의 SQL문이 동시에 동작하고 있다(PC에서의 엑셀과는 다르다)
- 서버 프로세스는 SQL문의 결과를 가능하면 빠르게 회신하기 위한 일을 한다
- 서버 프로세스를 도와주는 백그라운드 프로세스가 존재한다

## 질의응답

Q1. 튜닝할 떄는 어떤 프로세스를 봐야 할까?
- 우선 먼저 살펴 보아야 할 것은 실제로 작업을 처리하는 서버 프로세스. 백그라운드 프로세스는 서버 프로세스를 방해하지 않는 한 볼 필요 없다.
Q2. OS에서 확인해보니 서버 프로세스가 디스크에서 대량으로 읽어오는 것이 판명되었다. 이것을 '문제가 있다'고 말할 수 있을까?
- 문제가 있다고 말할 수 없다. 서버 프로세스는 디스크에서 데이터를 읽어오는 일을 하므로 읽어온다는 것 자체를 이상이라고 할 수 없다. 나머지는 SQL문을 보았을 때 데이터를 대량으로 읽는 것이 타당한지 아닌지 조사해야 할 것.




