# 4.1 SQL문의 분석과 공유 풀을 왜 배워야 하는가?
- 아무리 디스크를 늘리고 클럭이 빠른 CPU를 추가하더라도 처리 방법 자체가 나쁘다면 효율적인 RDBMS에게 진다. 이번 장에서는 '분석(parse, 파스)'이라 부르는 처리 방법의 생성과 생성한 처리 방법을 캐시하는 장소인 '공유 풀'에 관해서 설명

# 4.2 SQL문과 일반적인 프로그래밍 언어의 차이
- SQL은 '처리 방법(절차)'을 기술하지 않는다는 점이 가장 큰 차이
- 프로그래밍 언어는 객체지향 언어, 스크립트 언어, 어셈블러에 상관없이 처리 방법을 기술해야 한다.
- SQL문에서는 '데이터의 조건이나 관계'만을 기술. 어디에도 '인덱스를 사용해서'나 '풀 스캔을 하라'와 같은 처리 방법 기술하지 않음
- RDBMS에서는 사람이 아니라 '옵티마이저(파서, parser)'라고 불리는 기능이 처리 방법을 생각해준다.
- 옵티마이저(파서)가 SQL문을 분석하고 '실행 계획'이라고 하는 처리 방법을 생성해준다.

# 4.3 서버 프로세스와 분석
- 서버 프로세스는 SQL문의 처리를 최우선적으로 수행하는 프로세스
- 서버 프로세스와 SQL문 전체를 처리하는 데 있어서 '분석(파싱)'의 위치는 그림 4.1과 같다.

![image](https://github.com/LeeHyogon/BookSummary/assets/45483116/1b1a082d-328b-479b-a21a-d0cc584feb9c)

- 오라클에서 분석이란, SQL문을 분해해서 어떤 요소(테이블이나 컬럼 등)로 구성되어 있는지를 조사하는 것뿐만 아니라 어떤 식으로 처리할지까지 생각하는 것을 의미.
- 여기서 말한 '생각한다'라는 것은 결국 컴퓨터가 하는 것이므로 알고리즘을 기반으로 처리하는 것일 뿐.
- 오라클은 '규칙 기반'과 '비용 기반'이라는 알고리즘을 가지고 있다.

#### 비용기반
- '처리 시간이나 I/O 횟수가 가장 적다고 생각되는 처리 방법이 최상이다'라는 알고리즘
- 오라클에서 처리 시간이나 I/O 횟수를 예측하기 위해서 '비용(cost)'이라고 불리는 수치를 이용함
- 비용을 단순하게 이야기하면, '처리에 필요하다고 생각되는 시간 또는 자원 사용량'

## 4.3.1 비용을 계산하기 위한 기초 수치, '통계 정보'
- 시간을 예측하기 위한 기초수치 (데이터량 등)가 필요합니다. 실제로 비용은 '통계 정보'라 불리는 기초 수치를 기반으로 계산됩니다. 통계 정보는 '이 테이블에는 데이터가 몇 로우(행)가 존재하고 있으며, 데이터의 양은 이정도다. 컬럼의 데이터 최댓값과 최솟값은 이런 값이다. 해당 테이블의 인덱스는...'과 같은 테이블이나 인덱스에 관한 기초 수치를 말함.
- 창고 회사에서도 '이 물건은 몇 개 정도 있고...'와 같은 기초 수치를 사전에 파악해둘 사원이 있따면, 보다 정확한 작업 시간을 예측을 할 수 있을 것.
- 오라클에서는 통계 정보를 '애널라이즈'라고 불리는 작업을 통해 얻음.
![image](https://github.com/LeeHyogon/BookSummary/assets/45483116/70cbb3d3-6797-4775-96d5-6b0fff40178f)

